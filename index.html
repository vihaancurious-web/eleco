<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Paint App â€“ Undo Redo</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #222;
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .palette {
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        gap: 10px;
        padding: 15px;
        background: #111;
        width: 100%;
        max-width: 900px;
        justify-items: center;
    }

    .color {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid #444;
    }

    .color.selected {
        border: 3px solid white;
    }

    .controls {
        display: flex;
        align-items: center;
        gap: 10px;
        margin: 10px;
    }

    canvas {
        background: #fff;
        border-radius: 10px;
        cursor: crosshair;
    }

    button {
        padding: 8px 14px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        font-weight: bold;
    }

    .active {
        background: #ff6666;
    }

    input[type="range"] {
        width: 120px;
    }
</style>
</head>
<body>

<!-- PALETTE -->
<div class="palette" id="palette"></div>

<!-- CONTROLS -->
<div class="controls">
    <label>Brush</label>
    <input type="range" min="1" max="40" value="4" oninput="changeBrush(this.value)">
    <button id="eraserBtn" onclick="toggleEraser()">Eraser</button>
    <button onclick="undo()">Undo</button>
    <button onclick="redo()">Redo</button>
    <button onclick="clearCanvas()">Clear</button>
</div>

<!-- CANVAS -->
<canvas id="canvas" width="900" height="450"></canvas>

<script>
const colors = [
"red","blue","green","black","yellow","purple","orange","pink","brown","gray",
"cyan","teal","magenta","maroon","tan","lime","navy","olive","coral","gold",
"salmon","indigo","violet","turquoise","chocolate","crimson","khaki","lavender","plum","orchid",
"mintcream","aquamarine","skyblue","deepskyblue","steelblue","royalblue","darkgreen","forestgreen","seagreen","springgreen",
"tomato","orangered","darkorange","peachpuff","sienna","peru","slategray","darkslateblue","mediumvioletred","hotpink"
]; // 50 colors

const palette = document.getElementById("palette");
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const eraserBtn = document.getElementById("eraserBtn");

let drawing = false;
let currentColor = colors[0];
let brushSize = 4;
let eraserMode = false;

// Undo / Redo stacks
let undoStack = [];
let redoStack = [];

ctx.lineCap = "round";
ctx.lineWidth = brushSize;

// Save canvas state
function saveState() {
    undoStack.push(canvas.toDataURL());
    redoStack = [];
}

// Build palette
colors.forEach((color, index) => {
    const div = document.createElement("div");
    div.className = "color" + (index === 0 ? " selected" : "");
    div.style.background = color;
    div.onclick = () => selectColor(color, div);
    palette.appendChild(div);
});

// Select color
function selectColor(color, element) {
    eraserMode = false;
    eraserBtn.classList.remove("active");
    currentColor = color;
    ctx.globalCompositeOperation = "source-over";
    document.querySelectorAll(".color").forEach(c => c.classList.remove("selected"));
    element.classList.add("selected");
}

// Brush size
function changeBrush(size) {
    brushSize = size;
    ctx.lineWidth = brushSize;
}

// Toggle eraser
function toggleEraser() {
    eraserMode = !eraserMode;
    eraserBtn.classList.toggle("active", eraserMode);
    ctx.globalCompositeOperation = eraserMode ? "destination-out" : "source-over";
}

// Drawing events
canvas.addEventListener("mousedown", () => {
    saveState();
    drawing = true;
});
canvas.addEventListener("mouseup", stopDraw);
canvas.addEventListener("mouseleave", stopDraw);
canvas.addEventListener("mousemove", draw);

function stopDraw() {
    drawing = false;
    ctx.b

 
 
